_G.AutoFarm = false
_G.AutoColec = false

local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/AikaV3rm/UiLib/master/Lib.lua')))()

local w = library:CreateWindow("Box Simulator")

local Main = w:CreateFolder("Auto Farm")

Main:Dropdown("Slect Area",{"Spawn", "Beach", "Samurai", "Winter", "Desert", "Wizard", "Volcano", "Mine", "Mushroom", "Ocean"},true,function(Selected)
    _G.AutoFarm = not _G.AutoFarm
    AutoFarm(Selected)
end)

Main:Toggle("Auto Orbs", function(bool)
_G.AutoColec = not _G.AutoColec
    OrbColet()
end)

function AutoFarm(x)
    local player = game.Players.LocalPlayer
while _G.AutoFarm and task.wait() do
    local nearest = nil
    for i,v in pairs(game:GetService("Workspace").Map.Worlds.Spawn[x].Boxes:GetChildren()) do
        if v:IsA("MeshPart") then
            if v.Health.Value > 0 then
                if nearest == nil or (player.Character:WaitForChild("HumanoidRootPart").Position - v.Position).Magnitude < (player.Character:WaitForChild("HumanoidRootPart").Position - nearest.Position).Magnitude then
                    nearest = v 
                end
            end
        end
    end
    fireclickdetector(nearest.ClickDetector) 
    repeat task.wait() until not v or not _G.AutoFarm 
    wait(0.5)
end
end

function OrbColet()
while _G.AutoColec == true do
wait(.5)
local Orbs = workspace:WaitForChild("Map"):WaitForChild("Orbs"):GetChildren()
if Orbs then
local playerPos = workspace:WaitForChild(game.Players.LocalPlayer.Name)
    for i,v in pairs(Orbs) do
        v.CFrame = playerPos.HumanoidRootPart.CFrame
      end
    end
  end
end

local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:connect(function()
   vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
   wait(1)
   vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)
